# ç¦å¸ˆå¤§æ ¡å›­ç”Ÿæ´»æœåŠ¡ APP ç™»å½•æ³¨å†ŒåŠŸèƒ½å®ç°è®¡åˆ’

## ğŸ“‹ ç›®å½•

1. [éœ€æ±‚åˆ†æ](#1-éœ€æ±‚åˆ†æ)
2. [æŠ€æœ¯æ¶æ„è®¾è®¡](#2-æŠ€æœ¯æ¶æ„è®¾è®¡)
3. [æ•°æ®åº“è®¾è®¡](#3-æ•°æ®åº“è®¾è®¡)
4. [APIæ¥å£è®¾è®¡](#4-apiæ¥å£è®¾è®¡)
5. [UI/UXè®¾è®¡](#5-uiuxè®¾è®¡)
6. [æ ¸å¿ƒåŠŸèƒ½å®ç°](#6-æ ¸å¿ƒåŠŸèƒ½å®ç°)
7. [å®‰å…¨ç­–ç•¥](#7-å®‰å…¨ç­–ç•¥)
8. [æµ‹è¯•è®¡åˆ’](#8-æµ‹è¯•è®¡åˆ’)
9. [éƒ¨ç½²ä¸å‘å¸ƒ](#9-éƒ¨ç½²ä¸å‘å¸ƒ)
10. [é¡¹ç›®é‡Œç¨‹ç¢‘ä¸æ—¶é—´è§„åˆ’](#10-é¡¹ç›®é‡Œç¨‹ç¢‘ä¸æ—¶é—´è§„åˆ’)
11. [é£é™©è¯„ä¼°ä¸åº”å¯¹ç­–ç•¥](#11-é£é™©è¯„ä¼°ä¸åº”å¯¹ç­–ç•¥)
12. [é¢„ç®—ä¸èµ„æºéœ€æ±‚](#12-é¢„ç®—ä¸èµ„æºéœ€æ±‚)

---

## 1. éœ€æ±‚åˆ†æ

### 1.1 åŠŸèƒ½éœ€æ±‚

#### 1.1.1 ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
- **æ‰‹æœºå·æ³¨å†Œ**ï¼šç”¨æˆ·ä½¿ç”¨æ‰‹æœºå·æ¥æ”¶éªŒè¯ç è¿›è¡Œæ³¨å†Œ
- **å­¦å·æ³¨å†Œ**ï¼šç”¨æˆ·ä½¿ç”¨å­¦å·å’Œå­¦æ ¡é‚®ç®±è¿›è¡Œæ³¨å†Œ
- **ç¬¬ä¸‰æ–¹æ³¨å†Œ**ï¼šæ”¯æŒå¾®ä¿¡ã€QQç­‰ç¬¬ä¸‰æ–¹è´¦å·æˆæƒæ³¨å†Œ

#### 1.1.2 ç”¨æˆ·ç™»å½•åŠŸèƒ½
- **æ‰‹æœºå·ç™»å½•**ï¼šç”¨æˆ·ä½¿ç”¨æ‰‹æœºå·å’Œå¯†ç ç™»å½•
- **å­¦å·ç™»å½•**ï¼šç”¨æˆ·ä½¿ç”¨å­¦å·å’Œå¯†ç ç™»å½•
- **éªŒè¯ç ç™»å½•**ï¼šç”¨æˆ·ä½¿ç”¨æ‰‹æœºå·å’ŒéªŒè¯ç ç™»å½•
- **ç¬¬ä¸‰æ–¹ç™»å½•**ï¼šæ”¯æŒå¾®ä¿¡ã€QQç­‰ç¬¬ä¸‰æ–¹è´¦å·æˆæƒç™»å½•
- **è‡ªåŠ¨ç™»å½•**ï¼šç”¨æˆ·ç™»å½•åï¼Œä¸‹æ¬¡æ‰“å¼€åº”ç”¨è‡ªåŠ¨ç™»å½•
- **è®°ä½å¯†ç **ï¼šç”¨æˆ·å¯é€‰æ‹©è®°ä½å¯†ç 

#### 1.1.3 å¯†ç ç®¡ç†åŠŸèƒ½
- **ä¿®æ”¹å¯†ç **ï¼šç”¨æˆ·ç™»å½•åå¯ä¿®æ”¹å¯†ç 
- **æ‰¾å›å¯†ç **ï¼šç”¨æˆ·å¯é€šè¿‡æ‰‹æœºå·æˆ–é‚®ç®±æ‰¾å›å¯†ç 
- **å¯†ç å¼ºåº¦æ£€æµ‹**ï¼šå®æ—¶æ£€æµ‹å¯†ç å¼ºåº¦

#### 1.1.4 ç”¨æˆ·è®¤è¯åŠŸèƒ½
- **Tokenç®¡ç†**ï¼šå®ç°Tokençš„è·å–ã€åˆ·æ–°å’Œè¿‡æœŸå¤„ç†
- **ä¼šè¯ç®¡ç†**ï¼šç®¡ç†ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼Œæ”¯æŒå¤šè®¾å¤‡ç™»å½•
- **æƒé™æ§åˆ¶**ï¼šåŸºäºç”¨æˆ·è§’è‰²çš„æƒé™æ§åˆ¶

### 1.2 éåŠŸèƒ½éœ€æ±‚

#### 1.2.1 æ€§èƒ½éœ€æ±‚
- ç™»å½•å“åº”æ—¶é—´ï¼š< 2ç§’
- æ³¨å†Œå“åº”æ—¶é—´ï¼š< 3ç§’ï¼ˆåŒ…å«éªŒè¯ç å‘é€ï¼‰
- å¹¶å‘ç”¨æˆ·æ•°ï¼šæ”¯æŒ 1000+ ç”¨æˆ·åŒæ—¶ç™»å½•

#### 1.2.2 å®‰å…¨éœ€æ±‚
- å¯†ç åŠ å¯†å­˜å‚¨ï¼šä½¿ç”¨BCryptåŠ å¯†
- ä¼ è¾“åŠ å¯†ï¼šå…¨ç¨‹HTTPS
- é˜²æš´åŠ›ç ´è§£ï¼šé™åˆ¶ç™»å½•å°è¯•æ¬¡æ•°
- é˜²SQLæ³¨å…¥ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
- é˜²XSSæ”»å‡»ï¼šè¾“å…¥æ ¡éªŒå’Œè½¬ä¹‰

#### 1.2.3 å¯ç”¨æ€§éœ€æ±‚
- æ”¯æŒæ–­ç½‘çŠ¶æ€ä¸‹çš„æœ¬åœ°ç¼“å­˜
- æ”¯æŒä½ç‰ˆæœ¬Androidç³»ç»Ÿï¼ˆAPI 26+ï¼‰
- æ”¯æŒå±å¹•æ—‹è½¬ç­‰é…ç½®å˜æ›´
- æä¾›å‹å¥½çš„é”™è¯¯æç¤º

#### 1.2.4 å…¼å®¹æ€§éœ€æ±‚
- å…¼å®¹Android 8.0è‡³Android 15
- é€‚é…ä¸»æµå±å¹•å°ºå¯¸å’Œåˆ†è¾¨ç‡
- æ”¯æŒæ·±è‰²æ¨¡å¼
- æ”¯æŒæ— éšœç¢è®¿é—®

### 1.3 ç”¨æˆ·åœºæ™¯åˆ†æ

#### 1.3.1 æ–°ç”¨æˆ·æ³¨å†Œåœºæ™¯
1. æ–°ç”¨æˆ·æ‰“å¼€åº”ç”¨ï¼Œè¿›å…¥æ¬¢è¿é¡µé¢
2. ç”¨æˆ·ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®ï¼Œè¿›å…¥æ³¨å†Œé¡µé¢
3. ç”¨æˆ·é€‰æ‹©æ³¨å†Œæ–¹å¼ï¼ˆæ‰‹æœºå·/å­¦å·/ç¬¬ä¸‰æ–¹ï¼‰
4. ç”¨æˆ·å¡«å†™æ³¨å†Œä¿¡æ¯ï¼Œæäº¤æ³¨å†Œç”³è¯·
5. ç³»ç»Ÿå‘é€éªŒè¯ç ï¼Œç”¨æˆ·è¾“å…¥éªŒè¯ç 
6. ç³»ç»ŸéªŒè¯é€šè¿‡ï¼Œåˆ›å»ºç”¨æˆ·è´¦æˆ·
7. ç³»ç»Ÿè‡ªåŠ¨ç™»å½•ï¼Œè·³è½¬åˆ°é¦–é¡µ

#### 1.3.2 è€ç”¨æˆ·ç™»å½•åœºæ™¯
1. è€ç”¨æˆ·æ‰“å¼€åº”ç”¨ï¼Œè¿›å…¥æ¬¢è¿é¡µé¢
2. ç³»ç»Ÿæ£€æµ‹åˆ°å·²ç™»å½•ç”¨æˆ·ï¼Œè‡ªåŠ¨ç™»å½•æˆ–æ˜¾ç¤ºç™»å½•é¡µé¢
3. ç”¨æˆ·é€‰æ‹©ç™»å½•æ–¹å¼ï¼ˆæ‰‹æœºå·/å­¦å·/éªŒè¯ç /ç¬¬ä¸‰æ–¹ï¼‰
4. ç”¨æˆ·å¡«å†™ç™»å½•ä¿¡æ¯ï¼Œæäº¤ç™»å½•ç”³è¯·
5. ç³»ç»ŸéªŒè¯èº«ä»½ï¼Œç”ŸæˆToken
6. ç³»ç»Ÿè·³è½¬åˆ°é¦–é¡µï¼Œæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯

#### 1.3.3 å¯†ç æ‰¾å›åœºæ™¯
1. ç”¨æˆ·åœ¨ç™»å½•é¡µé¢ç‚¹å‡»"å¿˜è®°å¯†ç "
2. ç”¨æˆ·é€‰æ‹©æ‰¾å›æ–¹å¼ï¼ˆæ‰‹æœºå·/é‚®ç®±ï¼‰
3. ç”¨æˆ·å¡«å†™èº«ä»½ä¿¡æ¯
4. ç³»ç»Ÿå‘é€éªŒè¯ç /é‡ç½®é“¾æ¥
5. ç”¨æˆ·é‡ç½®å¯†ç 
6. ç”¨æˆ·ä½¿ç”¨æ–°å¯†ç ç™»å½•

## 2. æŠ€æœ¯æ¶æ„è®¾è®¡

### 2.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    UI Layer                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  AuthActivityâ”‚  â”‚  LoginFrag  â”‚  â”‚ RegisterFragâ”‚  â”‚  FindPwdFragment            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ ViewBinding
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  ViewModel Layer                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ AuthViewModelâ”‚  â”‚ LoginViewModelâ”‚ â”‚ RegisterVM  â”‚  â”‚  FindPwdViewModel          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ LiveData / Coroutines
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 Repository Layer                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚AuthRepositoryâ”‚  â”‚UserRepositoryâ”‚  â”‚  TokenManager             â”‚  â”‚ PreferenceMgrâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ Retrofit / Room
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   Data Layer                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Server    â”‚  â”‚  Room DB    â”‚  â”‚  SharedPreferences        â”‚  â”‚  SecureStorageâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 2.2.1 AuthActivityï¼ˆè®¤è¯æ´»åŠ¨ï¼‰
- **èŒè´£**ï¼šç®¡ç†ç™»å½•ã€æ³¨å†Œã€æ‰¾å›å¯†ç ç­‰è®¤è¯ç›¸å…³é¡µé¢
- **å¯¼èˆª**ï¼šæ”¯æŒé¡µé¢é—´çš„è·³è½¬å’Œè¿”å›
- **çŠ¶æ€ç®¡ç†**ï¼šç®¡ç†è®¤è¯æµç¨‹çš„çŠ¶æ€

#### 2.2.2 AuthViewModelï¼ˆè®¤è¯è§†å›¾æ¨¡å‹ï¼‰
- **èŒè´£**ï¼šå¤„ç†è®¤è¯ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
- **æ•°æ®**ï¼šç®¡ç†ç”¨æˆ·ä¿¡æ¯ã€ç™»å½•çŠ¶æ€ã€é”™è¯¯ä¿¡æ¯ç­‰
- **æ–¹æ³•**ï¼šlogin()ã€register()ã€logout()ã€resetPassword()ç­‰

#### 2.2.3 AuthRepositoryï¼ˆè®¤è¯ä»“åº“ï¼‰
- **èŒè´£**ï¼šå°è£…è®¤è¯ç›¸å…³çš„æ•°æ®è®¿é—®
- **æ•°æ®æº**ï¼šç½‘ç»œAPIã€æœ¬åœ°æ•°æ®åº“ã€ç¼“å­˜
- **æ–¹æ³•**ï¼šlogin()ã€register()ã€getUserProfile()ã€updateUserProfile()ç­‰

#### 2.2.4 TokenManagerï¼ˆTokenç®¡ç†å™¨ï¼‰
- **èŒè´£**ï¼šç®¡ç†ç”¨æˆ·è®¤è¯Token
- **åŠŸèƒ½**ï¼šTokenå­˜å‚¨ã€Tokenåˆ·æ–°ã€Tokenè¿‡æœŸå¤„ç†
- **å­˜å‚¨**ï¼šä½¿ç”¨åŠ å¯†çš„SharedPreferencesæˆ–EncryptedSharedPreferences

### 2.3 æŠ€æœ¯é€‰å‹

| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬/è§„æ ¼ |
|------|------|----------|
| å¼€å‘è¯­è¨€ | Javaï¼ˆå¯é€æ­¥è¿ç§»åˆ°Kotlinï¼‰ | 11 |
| ç½‘ç»œæ¡†æ¶ | Retrofit + OkHttp | Retrofit 2.9.0+ |
| JSONè§£æ | Gson | 2.10.1+ |
| æ•°æ®åº“ | Room | 2.5.2+ |
| ç”Ÿå‘½å‘¨æœŸ | Lifecycle + ViewModel + LiveData | 2.6.2+ |
| å¼‚æ­¥ç¼–ç¨‹ | Coroutinesï¼ˆå¯é€‰ï¼‰æˆ–RxJava | 1.7.3+ |
| åŠ å¯†åº“ | AES + BCrypt | - |
| éªŒè¯ç  | çŸ­ä¿¡éªŒè¯ç æˆ–é‚®ç®±éªŒè¯ç  | - |
| ç¬¬ä¸‰æ–¹SDK | å¾®ä¿¡ç™»å½•ã€QQç™»å½• | æœ€æ–°ç‰ˆæœ¬ |

## 3. æ•°æ®åº“è®¾è®¡

### 3.1 ç”¨æˆ·è¡¨è®¾è®¡

#### 3.1.1 ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è¡¨ï¼ˆusersï¼‰
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    phone VARCHAR(20) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE,
    student_id VARCHAR(20) UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    salt VARCHAR(64) NOT NULL,
    nickname VARCHAR(50),
    real_name VARCHAR(50),
    avatar_url VARCHAR(255),
    department VARCHAR(100),
    major VARCHAR(100),
    gender TINYINT DEFAULT 0,
    status TINYINT DEFAULT 1,  -- 0:ç¦ç”¨, 1:æ­£å¸¸, 2:å¾…å®¡æ ¸
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_login_at DATETIME,
    login_count INTEGER DEFAULT 0
);
```

#### 3.1.2 ç”¨æˆ·Tokenè¡¨ï¼ˆuser_tokensï¼‰
```sql
CREATE TABLE user_tokens (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    token VARCHAR(255) UNIQUE NOT NULL,
    refresh_token VARCHAR(255) UNIQUE NOT NULL,
    device_type VARCHAR(20),
    device_token VARCHAR(255),
    expires_at DATETIME NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
CREATE INDEX idx_user_tokens_token ON user_tokens(token);
CREATE INDEX idx_user_tokens_user_id ON user_tokens(user_id);
```

#### 3.1.3 éªŒè¯ç è®°å½•è¡¨ï¼ˆverification_codesï¼‰
```sql
CREATE TABLE verification_codes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    phone VARCHAR(20) NOT NULL,
    email VARCHAR(100),
    code VARCHAR(10) NOT NULL,
    type TINYINT NOT NULL,  -- 1:æ³¨å†Œ, 2:ç™»å½•, 3:æ‰¾å›å¯†ç 
    status TINYINT DEFAULT 0,  -- 0:æœªä½¿ç”¨, 1:å·²ä½¿ç”¨, 2:å·²è¿‡æœŸ
    expires_at DATETIME NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
CREATE INDEX idx_verification_codes_phone ON verification_codes(phone);
CREATE INDEX idx_verification_codes_code ON verification_codes(code);
```

### 3.2 Roomå®ä½“ç±»è®¾è®¡

#### 3.2.1 Userå®ä½“ç±»
```java
@Entity(tableName = "users")
public class User {
    @PrimaryKey(autoGenerate = true)
    private long id;
    
    @ColumnInfo(index = true)
    private String phone;
    
    @ColumnInfo(index = true)
    private String email;
    
    @ColumnInfo(index = true)
    private String studentId;
    
    private String passwordHash;
    private String salt;
    private String nickname;
    private String realName;
    private String avatarUrl;
    private String department;
    private String major;
    private int gender;  // 0:æœªçŸ¥, 1:ç”·, 2:å¥³
    private int status;  // 0:ç¦ç”¨, 1:æ­£å¸¸, 2:å¾…å®¡æ ¸
    private long createdAt;
    private long updatedAt;
    private long lastLoginAt;
    private int loginCount;
    
    // æ„é€ æ–¹æ³•ã€Getterå’ŒSetter
}
```

#### 3.2.2 UserTokenå®ä½“ç±»
```java
@Entity(tableName = "user_tokens",
        foreignKeys = @ForeignKey(
                entity = User.class,
                parentColumns = "id",
                childColumns = "userId",
                onDelete = CASCADE
        ),
        indices = {
                @Index("token"),
                @Index("userId")
        })
public class UserToken {
    @PrimaryKey(autoGenerate = true)
    private long id;
    
    private long userId;
    private String token;
    private String refreshToken;
    private String deviceType;
    private String deviceToken;
    private long expiresAt;
    private long createdAt;
    
    // æ„é€ æ–¹æ³•ã€Getterå’ŒSetter
}
```

### 3.3 DAOæ¥å£è®¾è®¡

#### 3.3.1 UserDaoæ¥å£
```java
@Dao
public interface UserDao {
    @Query("SELECT * FROM users WHERE phone = :phone LIMIT 1")
    User getUserByPhone(String phone);
    
    @Query("SELECT * FROM users WHERE student_id = :studentId LIMIT 1")
    User getUserByStudentId(String studentId);
    
    @Query("SELECT * FROM users WHERE email = :email LIMIT 1")
    User getUserByEmail(String email);
    
    @Query("SELECT * FROM users WHERE id = :userId LIMIT 1")
    User getUserById(long userId);
    
    @Query("SELECT * FROM users WHERE (phone = :account OR student_id = :account OR email = :account) LIMIT 1")
    User getUserByAccount(String account);
    
    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insert(User user);
    
    @Update
    void update(User user);
    
    @Query("UPDATE users SET last_login_at = :loginAt, login_count = login_count + 1 WHERE id = :userId")
    void updateLoginInfo(long userId, long loginAt);
    
    @Query("UPDATE users SET status = :status WHERE id = :userId")
    void updateStatus(long userId, int status);
    
    @Query("DELETE FROM users WHERE id = :userId")
    void deleteById(long userId);
}
```

#### 3.3.2 UserTokenDaoæ¥å£
```java
@Dao
public interface UserTokenDao {
    @Query("SELECT * FROM user_tokens WHERE token = :token LIMIT 1")
    UserToken getTokenByToken(String token);
    
    @Query("SELECT * FROM user_tokens WHERE user_id = :userId")
    List<UserToken> getTokensByUserId(long userId);
    
    @Query("SELECT * FROM user_tokens WHERE user_id = :userId AND device_type = :deviceType LIMIT 1")
    UserToken getTokenByUserAndDevice(long userId, String deviceType);
    
    @Insert(onConflict = OnConflictStrategy.REPLACE)
    long insert(UserToken token);
    
    @Update
    void update(UserToken token);
    
    @Query("DELETE FROM user_tokens WHERE token = :token")
    void deleteByToken(String token);
    
    @Query("DELETE FROM user_tokens WHERE user_id = :userId")
    void deleteByUserId(long userId);
    
    @Query("DELETE FROM user_tokens WHERE expires_at < :currentTime")
    void deleteExpiredTokens(long currentTime);
}
```

### 3.4 æ•°æ®åº“å‡çº§ç­–ç•¥

#### 3.4.1 æ•°æ®åº“ç‰ˆæœ¬å‡çº§
- å½“å‰ç‰ˆæœ¬ï¼š7
- æ–°ç‰ˆæœ¬ï¼š8
- å‡çº§æ–¹å¼ï¼šä½¿ç”¨Migrationè¿›è¡Œæ•°æ®è¿ç§»

#### 3.4.2 Migrationå®ç°
```java
static final Migration MIGRATION_7_8 = new Migration(7, 8) {
    @Override
    public void migrate(SupportSQLiteDatabase database) {
        // åˆ›å»ºæ–°è¡¨
        database.execSQL("CREATE TABLE users (...)");
        database.execSQL("CREATE TABLE user_tokens (...)");
        database.execSQL("CREATE TABLE verification_codes (...)");
        
        // è¿ç§»æ—§æ•°æ®ï¼ˆå¦‚æœæœ‰ï¼‰
        // ...
    }
};
```

## 4. APIæ¥å£è®¾è®¡

### 4.1 æ¥å£è§„èŒƒ

#### 4.1.1 åŸºç¡€ä¿¡æ¯
- åŸºç¡€URLï¼šhttps://api.fjnuservice.com/v1/
- è®¤è¯æ–¹å¼ï¼šBearer Token
- è¯·æ±‚æ ¼å¼ï¼šJSON
- å“åº”æ ¼å¼ï¼šJSON

#### 4.1.2 ç»Ÿä¸€å“åº”æ ¼å¼
```json
{
    "code": 200,
    "message": "success",
    "data": {
        // å“åº”æ•°æ®
    },
    "timestamp": 1704067200000,
    "requestId": "xxx"
}
```

#### 4.1.3 é”™è¯¯ç å®šä¹‰
| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 200 | æˆåŠŸ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | æœªè®¤è¯æˆ–Tokenè¿‡æœŸ |
| 403 | æ— æƒé™è®¿é—® |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 422 | ä¸šåŠ¡é€»è¾‘é”™è¯¯ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### 4.2 æ¥å£åˆ—è¡¨

#### 4.2.1 ç”¨æˆ·æ³¨å†Œæ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/register

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "phone": "13800138000",
    "code": "123456",
    "password": "password123",
    "studentId": "20210001",
    "email": "student@fjn.edu.cn",
    "nickname": "ç”¨æˆ·å",
    "department": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢",
    "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "æ³¨å†ŒæˆåŠŸ",
    "data": {
        "user": {
            "id": 1,
            "phone": "13800138000",
            "nickname": "ç”¨æˆ·å",
            "avatarUrl": null
        },
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "expiresIn": 86400
    }
}
```

#### 4.2.2 ç”¨æˆ·ç™»å½•æ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/login

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "account": "13800138000",
    "password": "password123",
    "deviceType": "android",
    "deviceToken": "xxx"
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "ç™»å½•æˆåŠŸ",
    "data": {
        "user": {
            "id": 1,
            "phone": "13800138000",
            "nickname": "ç”¨æˆ·å",
            "avatarUrl": "https://...",
            "studentId": "20210001"
        },
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "expiresIn": 86400
    }
}
```

#### 4.2.3 å‘é€éªŒè¯ç æ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/send-code

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "phone": "13800138000",
    "type": 1  // 1:æ³¨å†Œ, 2:ç™»å½•, 3:æ‰¾å›å¯†ç 
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "éªŒè¯ç å‘é€æˆåŠŸ",
    "data": {
        "expiresIn": 300  // éªŒè¯ç æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰
    }
}
```

#### 4.2.4 åˆ·æ–°Tokenæ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/refresh-token

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "Tokenåˆ·æ–°æˆåŠŸ",
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "expiresIn": 86400
    }
}
```

#### 4.2.5 æ‰¾å›å¯†ç æ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/reset-password

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "phone": "13800138000",
    "code": "123456",
    "newPassword": "newpassword123"
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "å¯†ç é‡ç½®æˆåŠŸ"
}
```

#### 4.2.6 ä¿®æ”¹å¯†ç æ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/change-password

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "oldPassword": "oldpassword123",
    "newPassword": "newpassword123"
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "å¯†ç ä¿®æ”¹æˆåŠŸ"
}
```

#### 4.2.7 è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£
**æ¥å£è·¯å¾„**ï¼šGET /user/profile

**è¯·æ±‚å¤´**ï¼š
```
Authorization: Bearer <token>
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "success",
    "data": {
        "user": {
            "id": 1,
            "phone": "13800138000",
            "nickname": "ç”¨æˆ·å",
            "avatarUrl": "https://...",
            "studentId": "20210001",
            "department": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢",
            "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯",
            "gender": 1,
            "createdAt": "2024-01-01 00:00:00"
        }
    }
}
```

#### 4.2.8 é€€å‡ºç™»å½•æ¥å£
**æ¥å£è·¯å¾„**ï¼šPOST /auth/logout

**è¯·æ±‚å¤´**ï¼š
```
Authorization: Bearer <token>
```

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "deviceType": "android"
}
```

**å“åº”å‚æ•°**ï¼š
```json
{
    "code": 200,
    "message": "é€€å‡ºæˆåŠŸ"
}
```

### 4.3 Retrofitæ¥å£å®šä¹‰

```java
public interface AuthApi {
    // ç”¨æˆ·æ³¨å†Œ
    @POST("auth/register")
    Call<BaseResponse<AuthData>> register(@Body RegisterRequest request);
    
    // ç”¨æˆ·ç™»å½•
    @POST("auth/login")
    Call<BaseResponse<AuthData>> login(@Body LoginRequest request);
    
    // å‘é€éªŒè¯ç 
    @POST("auth/send-code")
    Call<BaseResponse<CodeResponse>> sendCode(@Body SendCodeRequest request);
    
    // éªŒè¯éªŒè¯ç 
    @POST("auth/verify-code")
    Call<BaseResponse<Void>> verifyCode(@Body VerifyCodeRequest request);
    
    // åˆ·æ–°Token
    @POST("auth/refresh-token")
    Call<BaseResponse<TokenResponse>> refreshToken(@Body RefreshTokenRequest request);
    
    // æ‰¾å›å¯†ç 
    @POST("auth/reset-password")
    Call<BaseResponse<Void>> resetPassword(@Body ResetPasswordRequest request);
    
    // ä¿®æ”¹å¯†ç 
    @POST("auth/change-password")
    Call<BaseResponse<Void>> changePassword(@Header("Authorization") String token, @Body ChangePasswordRequest request);
    
    // è·å–ç”¨æˆ·ä¿¡æ¯
    @GET("user/profile")
    Call<BaseResponse<UserResponse>> getUserProfile(@Header("Authorization") String token);
    
    // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
    @PUT("user/profile")
    Call<BaseResponse<UserResponse>> updateUserProfile(@Header("Authorization") String token, @Body UpdateProfileRequest request);
    
    // é€€å‡ºç™»å½•
    @POST("auth/logout")
    Call<BaseResponse<Void>> logout(@Header("Authorization") String token, @Body LogoutRequest request);
}
```

## 5. UI/UXè®¾è®¡

### 5.1 é¡µé¢ç»“æ„

```
AuthActivity (è®¤è¯é¡µé¢å®¹å™¨)
â”œâ”€â”€ WelcomeFragment (æ¬¢è¿é¡µé¢)
â”‚   â”œâ”€â”€ Logoå’Œæ¬¢è¿è¯­ï¼ˆå¸¦æµ®åŠ¨/æ—‹è½¬åŠ¨ç”»ï¼‰
â”‚   â”œâ”€â”€ é¡¹ç›®æ ‡å¿—æ€§3Då…ƒç´ æˆ–ç²’å­èƒŒæ™¯
â”‚   â”œâ”€â”€ "æ‰‹æœºå¿«æ·ç™»å½•"æŒ‰é’®ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ "å­¦å·ç™»å½•"æŒ‰é’®ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ "æ³¨å†Œè´¦å·"é“¾æ¥
â”‚   â””â”€â”€ "å¿˜è®°å¯†ç "é“¾æ¥
â”‚
â”œâ”€â”€ LoginFragment (ç™»å½•é¡µé¢)
â”‚   â”œâ”€â”€ æ ‡é¢˜æ ï¼ˆGlassmorphismæ•ˆæœï¼Œè¿”å›æŒ‰é’®+æ ‡é¢˜ï¼‰
â”‚   â”œâ”€â”€ LogoåŒºåŸŸï¼ˆå¸¦è½»å¾®3Dæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ è´¦å·è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ å¯†ç è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼Œå¯åˆ‡æ¢æ˜¾ç¤º/éšè—ï¼‰
â”‚   â”œâ”€â”€ è®°ä½å¯†ç å¼€å…³ï¼ˆè‡ªå®šä¹‰æ ·å¼ï¼Œé¡¹ç›®é…è‰²ï¼‰
â”‚   â”œâ”€â”€ è‡ªåŠ¨ç™»å½•å¼€å…³ï¼ˆè‡ªå®šä¹‰æ ·å¼ï¼Œé¡¹ç›®é…è‰²ï¼‰
â”‚   â”œâ”€â”€ "ç™»å½•"æŒ‰é’®ï¼ˆæ¸å˜æ•ˆæœï¼Œæ‚¬åœåŠ¨ç”»ï¼‰
â”‚   â”œâ”€â”€ "å¿˜è®°å¯†ç "é“¾æ¥
â”‚   â”œâ”€â”€ ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆGlassmorphismæ•ˆæœï¼Œå¾®ä¿¡ã€QQï¼‰
â”‚   â””â”€â”€ æ³¨å†Œè´¦å·é“¾æ¥
â”‚
â”œâ”€â”€ RegisterFragment (æ³¨å†Œé¡µé¢)
â”‚   â”œâ”€â”€ æ ‡é¢˜æ ï¼ˆGlassmorphismæ•ˆæœï¼Œè¿”å›æŒ‰é’®+æ ‡é¢˜ï¼‰
â”‚   â”œâ”€â”€ æ‰‹æœºå·è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ éªŒè¯ç è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ "è·å–éªŒè¯ç "æŒ‰é’®ï¼ˆå€’è®¡æ—¶åŠ¨ç”»ï¼ŒGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ å¯†ç è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼ŒåŠ¨æ€å¼ºåº¦æŒ‡ç¤ºï¼‰
â”‚   â”œâ”€â”€ ç¡®è®¤å¯†ç è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ å­¦å·è¾“å…¥æ¡†ï¼ˆå¯é€‰ï¼ŒGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ é‚®ç®±è¾“å…¥æ¡†ï¼ˆå¯é€‰ï¼ŒGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ ç”¨æˆ·åè®®å‹¾é€‰æ¡†
â”‚   â”œâ”€â”€ "æ³¨å†Œ"æŒ‰é’®ï¼ˆæ¸å˜æ•ˆæœï¼Œæ‚¬åœåŠ¨ç”»ï¼‰
â”‚   â””â”€â”€ å·²æœ‰è´¦å·ï¼Œå»ç™»å½•
â”‚
â”œâ”€â”€ FindPwdFragment (æ‰¾å›å¯†ç é¡µé¢)
â”‚   â”œâ”€â”€ æ ‡é¢˜æ ï¼ˆGlassmorphismæ•ˆæœï¼Œè¿”å›æŒ‰é’®+æ ‡é¢˜ï¼‰
â”‚   â”œâ”€â”€ æ­¥éª¤æŒ‡ç¤ºå™¨ï¼ˆåŠ¨æ€å¡«å……åŠ¨ç”»ï¼‰
â”‚   â”œâ”€â”€ æ­¥éª¤1ï¼šè¾“å…¥æ‰‹æœºå·/é‚®ç®±ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ æ­¥éª¤2ï¼šè¾“å…¥éªŒè¯ç ï¼ˆGlassmorphismæ•ˆæœï¼‰
â”‚   â”œâ”€â”€ æ­¥éª¤3ï¼šé‡ç½®å¯†ç ï¼ˆGlassmorphismæ•ˆæœï¼ŒåŠ¨æ€å¼ºåº¦æŒ‡ç¤ºï¼‰
â”‚   â””â”€â”€ "å®Œæˆ"æŒ‰é’®ï¼ˆæ¸å˜æ•ˆæœï¼Œæ‚¬åœåŠ¨ç”»ï¼‰
â”‚
â””â”€â”€ ProfileSetupFragment (å®Œå–„èµ„æ–™é¡µé¢ - æ³¨å†Œå)
    â”œâ”€â”€ æ ‡é¢˜æ ï¼ˆGlassmorphismæ•ˆæœï¼Œè·³è¿‡+æ ‡é¢˜ï¼‰
    â”œâ”€â”€ å¤´åƒé€‰æ‹©åŒºåŸŸï¼ˆå¸¦è½»å¾®3Dæ•ˆæœï¼‰
    â”œâ”€â”€ æ˜µç§°è¾“å…¥æ¡†ï¼ˆGlassmorphismæ•ˆæœï¼‰
    â”œâ”€â”€ æ€§åˆ«é€‰æ‹©ï¼ˆè‡ªå®šä¹‰æ ·å¼ï¼Œé¡¹ç›®é…è‰²ï¼‰
    â”œâ”€â”€ å­¦é™¢é€‰æ‹©ï¼ˆGlassmorphismæ•ˆæœï¼‰
    â”œâ”€â”€ ä¸“ä¸šé€‰æ‹©ï¼ˆGlassmorphismæ•ˆæœï¼‰
    â”œâ”€â”€ "å®Œæˆ"æŒ‰é’®ï¼ˆæ¸å˜æ•ˆæœï¼Œæ‚¬åœåŠ¨ç”»ï¼‰
    â””â”€â”€ "è·³è¿‡"æŒ‰é’®ï¼ˆGlassmorphismæ•ˆæœï¼‰
```

### 5.2 è®¾è®¡è§„èŒƒ

#### 5.2.1 é¢œè‰²è§„èŒƒ
| å…ƒç´  | é¢œè‰²/æ¸å˜ | è¯´æ˜ |
|------|----------|------|
| ä¸»è‰²è°ƒæ¸å˜ | `#0066FF` è‡³ `#00CCFF` | ä¸»è¦æŒ‰é’®ã€æ ‡é¢˜æ–‡å­—ã€æ¸å˜èƒŒæ™¯ |
| è¾…åŠ©è‰²æ¸å˜ | `#6600FF` è‡³ `#CC00FF` | æ¬¡è¦æŒ‰é’®ã€è£…é¥°å…ƒç´  |
| å¼ºè°ƒè‰² | `#00F2FE` | é«˜äº®çŠ¶æ€ã€è¾¹æ¡†ã€åŠ¨ç”»æ•ˆæœã€æ¶Ÿæ¼ªæ•ˆæœ |
| GlassmorphismèƒŒæ™¯ | `#26FFFFFF` è‡³ `#4DFFFFFF` | å¡ç‰‡ã€è¾“å…¥æ¡†ã€æŒ‰é’®èƒŒæ™¯ |
| Glassmorphismè¾¹æ¡† | `#33FFFFFF` | å¡ç‰‡ã€è¾“å…¥æ¡†ã€æŒ‰é’®è¾¹æ¡† |
| é˜´å½±é¢œè‰² | `#1A000000` | æ‰€æœ‰Glassmorphismå…ƒç´  |
| èƒŒæ™¯è‰² | æ¸å˜èƒŒæ™¯ | é¡µé¢èƒŒæ™¯ï¼Œä¸é¡¹ç›®ä¸»é¡µä¸€è‡´ |
| æ–‡å­—ä¸»è‰² | `#1A1A1A` | ä¸»è¦æ–‡å­— |
| æ–‡å­—æ¬¡è‰² | `#666666` | æ¬¡è¦æ–‡å­— |
| æ–‡å­—æç¤ºè‰² | `#999999` | æç¤ºæ–‡å­— |
| é”™è¯¯è‰² | `#FF4D4F` | é”™è¯¯æç¤ºã€å¯†ç å¼ºåº¦å¼± |
| è­¦å‘Šè‰² | `#FAAD14` | è­¦å‘Šæç¤ºã€å¯†ç å¼ºåº¦ä¸­ |
| æˆåŠŸè‰² | `#52C41A` | æˆåŠŸæç¤ºã€å¯†ç å¼ºåº¦å¼º |
| å¾ˆå¼ºè‰² | `#0066FF` | å¯†ç å¼ºåº¦å¾ˆå¼º |

#### 5.2.2 å­—ä½“è§„èŒƒ
- æ ‡é¢˜æ–‡å­—ï¼š24spï¼Œç²—ä½“ï¼Œæ¸å˜æ–‡å­—æ•ˆæœ
- ä¸»è¦æ–‡å­—ï¼š16spï¼Œå¸¸è§„
- æ¬¡è¦æ–‡å­—ï¼š14spï¼Œå¸¸è§„
- æç¤ºæ–‡å­—ï¼š12spï¼Œå¸¸è§„
- æŒ‰é’®æ–‡å­—ï¼š16spï¼Œä¸­ç­‰ï¼Œæ¸å˜æ–‡å­—æ•ˆæœï¼ˆä¸»è¦æŒ‰é’®ï¼‰

#### 5.2.3 é—´è·è§„èŒƒ
- é¡µé¢è¾¹è·ï¼š20dp
- å¡ç‰‡å†…è¾¹è·ï¼š20dp
- å…ƒç´ é—´è·ï¼š16dp
- æŒ‰é’®é«˜åº¦ï¼š56dpï¼ˆä¸»è¦æŒ‰é’®ï¼‰ï¼Œ48dpï¼ˆæ¬¡è¦æŒ‰é’®ï¼‰
- è¾“å…¥æ¡†é«˜åº¦ï¼š56dp

#### 5.2.4 åœ†è§’è§„èŒƒ
- å°åœ†è§’ï¼š4dpï¼ˆæ ‡ç­¾ã€å°æŒ‰é’®ï¼‰
- ä¸­åœ†è§’ï¼š8dpï¼ˆè¾“å…¥æ¡†ã€å¼€å…³ï¼‰
- å¤§åœ†è§’ï¼š12dpï¼ˆä¸»è¦æŒ‰é’®ã€å¡ç‰‡ï¼‰
- å…¨åœ†è§’ï¼š24dpï¼ˆåœ†å½¢æŒ‰é’®ã€å¤´åƒã€éªŒè¯ç æŒ‰é’®ï¼‰

### 5.3 äº¤äº’è®¾è®¡

#### 5.3.1 è¾“å…¥éªŒè¯
- **å®æ—¶éªŒè¯**ï¼šè¾“å…¥æ—¶å®æ—¶éªŒè¯æ ¼å¼
- **å¤±ç„¦éªŒè¯**ï¼šå¤±å»ç„¦ç‚¹æ—¶éªŒè¯
- **æäº¤éªŒè¯**ï¼šç‚¹å‡»æŒ‰é’®æ—¶éªŒè¯å…¨éƒ¨
- **é”™è¯¯æç¤º**ï¼šè¾“å…¥æ¡†ä¸‹æ–¹æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå¸¦æŠ–åŠ¨+å˜è‰²åŠ¨ç”»

#### 5.3.2 æŒ‰é’®çŠ¶æ€
- **é»˜è®¤çŠ¶æ€**ï¼šæ­£å¸¸æ˜¾ç¤º
- **åŠ è½½çŠ¶æ€**ï¼šæ˜¾ç¤ºè‡ªå®šä¹‰LoadingåŠ¨ç”»ï¼ˆç²’å­æ—‹è½¬ï¼‰ï¼Œç¦æ­¢ç‚¹å‡»
- **ç¦ç”¨çŠ¶æ€**ï¼šç°è‰²æ˜¾ç¤ºï¼Œç¦æ­¢ç‚¹å‡»
- **æˆåŠŸçŠ¶æ€**ï¼šæ˜¾ç¤ºæˆåŠŸå›¾æ ‡
- **å¤±è´¥çŠ¶æ€**ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œæ¢å¤å¯ç‚¹å‡»
- **æ‚¬åœæ•ˆæœ**ï¼šè½»å¾®ä¸Šæµ®ã€é˜´å½±å¢å¼ºã€å‘¼å¸å…‰æ™•æ•ˆæœ
- **æ¶Ÿæ¼ªæ•ˆæœ**ï¼šä½¿ç”¨é¡¹ç›®å¼ºè°ƒè‰² `#00F2FE`

#### 5.3.3 é¡µé¢è½¬åœº
- **é¡µé¢è¿›å…¥**ï¼šåº•éƒ¨æ»‘å…¥åŠ¨ç”»ï¼ˆ300msï¼ŒAccelerateDecelerateInterpolatorï¼‰
- **é¡µé¢é€€å‡º**ï¼šåº•éƒ¨æ»‘å‡ºåŠ¨ç”»ï¼ˆ300msï¼ŒAccelerateDecelerateInterpolatorï¼‰
- **é”™è¯¯æç¤º**ï¼šæŠ–åŠ¨åŠ¨ç”» + Toast/Snackbar
- **åŠ è½½çŠ¶æ€**ï¼šéª¨æ¶å±æˆ–è‡ªå®šä¹‰LoadingåŠ¨ç”»ï¼ˆç²’å­æ—‹è½¬ï¼‰
- **å…¥åœºåŠ¨ç”»**ï¼šä¸é¡¹ç›®ä¸»é¡µä¸€è‡´çš„å¼¹å°„åŠ¨ç”»æˆ–æ·¡å…¥æ•ˆæœ

#### 5.3.4 æ‰‹åŠ¿æ”¯æŒ
- **ç‚¹å‡»**ï¼šè§¦å‘æŒ‰é’®ç‚¹å‡»äº‹ä»¶
- **é•¿æŒ‰**ï¼šæ˜¾ç¤ºæç¤ºä¿¡æ¯
- **æ»‘åŠ¨**ï¼šé¡µé¢æ»‘åŠ¨åˆ‡æ¢
- **åŒå‡»**ï¼šå¿«é€Ÿæ“ä½œï¼ˆå¦‚éšè—/æ˜¾ç¤ºå¯†ç ï¼‰

#### 5.3.5 3Dæ•ˆæœèå…¥
- ç™»å½•æ³¨å†Œé¡µé¢æ·»åŠ è½»å¾®3Då€¾æ–œæ•ˆæœï¼Œä¸é¡¹ç›®3Dæ—‹è½¬äº”è§’æ˜Ÿèœå•å‘¼åº”
- å¡ç‰‡å…ƒç´ æ·»åŠ è½»å¾®3Då˜æ¢ï¼Œå¢å¼ºæ·±åº¦æ„Ÿ
- LogoåŒºåŸŸæ·»åŠ è½»å¾®3Dæ•ˆæœ
- å¤´åƒé€‰æ‹©åŒºåŸŸæ·»åŠ è½»å¾®3Dæ•ˆæœ

### 5.4 Glassmorphismå®ç°è§„èŒƒ

#### 5.4.1 æ ¸å¿ƒå®ç°
```xml
<!-- bg_auth_glass_card.xml -->
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="#26FFFFFF" />
    <corners android:radius="12dp" />
    <stroke
        android:width="1dp"
        android:color="#33FFFFFF" />
</shape>

<!-- å¸ƒå±€ä¸­åº”ç”¨ -->
<androidx.cardview.widget.CardView
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/bg_auth_glass_card"
    android:elevation="10dp"
    android:padding="20dp"
    app:cardCornerRadius="12dp">
    <!-- å†…å®¹ -->
</androidx.cardview.widget.CardView>
```

#### 5.4.2 å®ç°è¦ç‚¹
- ä½¿ç”¨ `BlurUtils`ï¼ˆé¡¹ç›®ç°æœ‰å·¥å…·ç±»ï¼‰å®ç°çœŸå®æ¯›ç»ç’ƒæ•ˆæœ
- èƒŒæ™¯å åŠ åŠé€æ˜é¢œè‰²ï¼ˆ`#26FFFFFF` è‡³ `#4DFFFFFF`ï¼‰
- æ·»åŠ æŸ”å’Œé˜´å½±ï¼ˆ`#1A000000`ï¼Œ10dp-20dp æ¨¡ç³ŠåŠå¾„ï¼‰
- æ·»åŠ 1dpå®½åŠé€æ˜è¾¹æ¡†ï¼ˆ`#33FFFFFF`ï¼‰
- é…åˆé€‚å½“çš„åœ†è§’ï¼ˆ12dp ç”¨äºå¡ç‰‡ï¼Œ8dp ç”¨äºè¾“å…¥æ¡†ï¼‰

### 5.5 åŠ¨ç”»æ•ˆæœè§„èŒƒ

| åŠ¨ç”»ç±»å‹ | æ—¶é•¿ | ç¼“åŠ¨å‡½æ•° | åº”ç”¨åœºæ™¯ |
|----------|------|----------|----------|
| é¡µé¢è½¬åœº | 300ms | AccelerateDecelerateInterpolator | é¡µé¢åˆ‡æ¢ |
| æŒ‰é’®åé¦ˆ | 200ms | OvershootInterpolator | æŒ‰é’®ç‚¹å‡» |
| è¾“å…¥æ¡†ç„¦ç‚¹ | 300ms | FastOutSlowInInterpolator | è¾“å…¥æ¡†ç„¦ç‚¹å˜åŒ– |
| å¡ç‰‡æµ®åŠ¨ | 3000ms | LinearInterpolator | è¡¨å•å¡ç‰‡ |
| åŠ è½½åŠ¨ç”» | 1000ms | LinearInterpolator | åŠ è½½çŠ¶æ€ |
| å¯†ç å¼ºåº¦æŒ‡ç¤º | 300ms | FastOutSlowInInterpolator | å¯†ç å¼ºåº¦å˜åŒ– |
| éªŒè¯ç å€’è®¡æ—¶ | 1000ms | LinearInterpolator | éªŒè¯ç å‘é€æŒ‰é’® |
| å¡ç‰‡3Då˜æ¢ | 500ms | AccelerateDecelerateInterpolator | é¡µé¢åŠ è½½ |

### 5.6 æ·±è‰²æ¨¡å¼æ”¯æŒ

- å®Œæ•´çš„æ·±è‰²ä¸»é¢˜æ”¯æŒ
- è‡ªé€‚åº”ç³»ç»Ÿè®¾ç½®
- ä½¿ç”¨ `values-night` ç›®å½•å­˜æ”¾æ·±è‰²æ¨¡å¼èµ„æº
- æ·±è‰²æ¨¡å¼ä¼˜åŒ–é…è‰²ï¼š
  - GlassmorphismèƒŒæ™¯ï¼š`#1A1A1A99` è‡³ `#2A2A2A99`
  - è¾¹æ¡†é¢œè‰²ï¼š`#44444499`
  - é˜´å½±é¢œè‰²ï¼š`#00000099`
- æ”¯æŒæ‰‹åŠ¨åˆ‡æ¢ä¸»é¢˜

### 5.7 å…³é”®äº¤äº’æµç¨‹

#### 5.7.1 ç™»å½•æµç¨‹
```
ç”¨æˆ·æ‰“å¼€APP
    â†“
æ£€æŸ¥ç™»å½•çŠ¶æ€ï¼ˆæœ¬åœ°Tokenï¼‰
    â†“
æœ‰æœ‰æ•ˆToken â†’ è‡ªåŠ¨ç™»å½• â†’ è·³è½¬é¦–é¡µ
    â†“
æ— æœ‰æ•ˆToken
    â†“
æ˜¾ç¤ºæ¬¢è¿é¡µé¢
    â†“
ç”¨æˆ·ç‚¹å‡»ç™»å½•
    â†“
æ˜¾ç¤ºç™»å½•é¡µé¢
    â†“
ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç 
    â†“
å®æ—¶éªŒè¯è¾“å…¥æ ¼å¼
    â†“
ç”¨æˆ·ç‚¹å‡»ç™»å½•
    â†“
æ˜¾ç¤ºLoading
    â†“
è°ƒç”¨ç™»å½•API
    â†“
ç™»å½•æˆåŠŸ â†’ ä¿å­˜Token â†’ è·³è½¬é¦–é¡µ
    â†“
ç™»å½•å¤±è´¥ â†’ æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ â†’ æ¢å¤å¯ç‚¹å‡»
```

#### 5.4.2 æ³¨å†Œæµç¨‹
```
ç”¨æˆ·ç‚¹å‡»æ³¨å†Œ
    â†“
æ˜¾ç¤ºæ³¨å†Œé¡µé¢
    â†“
ç”¨æˆ·è¾“å…¥æ‰‹æœºå·
    â†“
ç”¨æˆ·ç‚¹å‡»è·å–éªŒè¯ç 
    â†“
å‘é€éªŒè¯ç è¯·æ±‚
    â†“
å‘é€æˆåŠŸ â†’ å¼€å§‹å€’è®¡æ—¶
    â†“
ç”¨æˆ·è¾“å…¥éªŒè¯ç 
    â†“
ç”¨æˆ·è¾“å…¥å¯†ç 
    â†“
å®æ—¶æ£€æµ‹å¯†ç å¼ºåº¦
    â†“
ç”¨æˆ·ç‚¹å‡»æ³¨å†Œ
    â†“
æ˜¾ç¤ºLoading
    â†“
è°ƒç”¨æ³¨å†ŒAPI
    â†“
æ³¨å†ŒæˆåŠŸ â†’ è‡ªåŠ¨ç™»å½• â†’ è·³è½¬å®Œå–„èµ„æ–™/é¦–é¡µ
    â†“
æ³¨å†Œå¤±è´¥ â†’ æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ â†’ æ¢å¤å¯ç‚¹å‡»
```

#### 5.4.3 æ‰¾å›å¯†ç æµç¨‹
```
ç”¨æˆ·ç‚¹å‡»å¿˜è®°å¯†ç 
    â†“
æ˜¾ç¤ºæ‰¾å›å¯†ç é¡µé¢ï¼ˆæ­¥éª¤1ï¼‰
    â†“
ç”¨æˆ·è¾“å…¥æ‰‹æœºå·
    â†“
ç”¨æˆ·ç‚¹å‡»ä¸‹ä¸€æ­¥
    â†“
æ˜¾ç¤ºæ‰¾å›å¯†ç é¡µé¢ï¼ˆæ­¥éª¤2ï¼‰
    â†“
ç”¨æˆ·è¾“å…¥éªŒè¯ç 
    â†“
ç”¨æˆ·ç‚¹å‡»ä¸‹ä¸€æ­¥
    â†“
æ˜¾ç¤ºæ‰¾å›å¯†ç é¡µé¢ï¼ˆæ­¥éª¤3ï¼‰
    â†“
ç”¨æˆ·è¾“å…¥æ–°å¯†ç 
    â†“
å®æ—¶æ£€æµ‹å¯†ç å¼ºåº¦
    â†“
ç”¨æˆ·ç‚¹å‡»ç¡®è®¤
    â†“
è°ƒç”¨é‡ç½®å¯†ç API
    â†“
é‡ç½®æˆåŠŸ â†’ è·³è½¬ç™»å½•é¡µé¢
```

## 6. æ ¸å¿ƒåŠŸèƒ½å®ç°

### 6.1 ç”¨æˆ·æ³¨å†Œå®ç°

#### 6.1.1 æ³¨å†Œæµç¨‹
```java
public class RegisterViewModel extends ViewModel {
    private MutableLiveData<RegisterState> state = new MutableLiveData<>();
    private MutableLiveData<String> errorMessage = new MutableLiveData<>();
    
    // å‘é€éªŒè¯ç 
    public void sendCode(String phone, int type) {
        state.setValue(RegisterState.LOADING);
        
        authRepository.sendCode(phone, type)
                .subscribe(new BaseObserver<CodeResponse>() {
                    @Override
                    public void onSuccess(CodeResponse data) {
                        state.setValue(RegisterState.CODE_SENT);
                        startCountdown();
                    }
                    
                    @Override
                    public void onError(String message) {
                        errorMessage.setValue(message);
                        state.setValue(RegisterState.IDLE);
                    }
                });
    }
    
    // æ³¨å†Œ
    public void register(RegisterRequest request) {
        state.setValue(RegisterState.LOADING);
        
        authRepository.register(request)
                .subscribe(new BaseObserver<AuthData>() {
                    @Override
                    public void onSuccess(AuthData data) {
                        // ä¿å­˜Token
                        tokenManager.saveToken(data.getToken());
                        tokenManager.saveRefreshToken(data.getRefreshToken());
                        
                        // æ›´æ–°ç™»å½•çŠ¶æ€
                        state.setValue(RegisterState.SUCCESS);
                    }
                    
                    @Override
                    public void onError(String message) {
                        errorMessage.setValue(message);
                        state.setValue(RegisterState.IDLE);
                    }
                });
    }
    
    // éªŒè¯ç å€’è®¡æ—¶
    private void startCountdown() {
        final int TOTAL_SECONDS = 60;
        Observable.interval(0, 1, TimeUnit.SECONDS)
                .map(i -> TOTAL_SECONDS - i)
                .take(TOTAL_SECONDS + 1)
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(seconds -> {
                    countdown.setValue(seconds);
                    if (seconds == 0) {
                        canResend.setValue(true);
                    }
                });
    }
}
```

#### 6.1.2 å¯†ç å¼ºåº¦æ£€æµ‹
```java
public class PasswordStrengthChecker {
    
    public enum Strength {
        WEAK(0, "å¼±", Color.parseColor("#FF4D4F")),
        MEDIUM(1, "ä¸­", Color.parseColor("#FAAD14")),
        STRONG(2, "å¼º", Color.parseColor("#52C41A")),
        VERY_STRONG(3, "å¾ˆå¼º", Color.parseColor("#0066FF"));
        
        private final int level;
        private final String text;
        private final int color;
        
        Strength(int level, String text, int color) {
            this.level = level;
            this.text = text;
            this.color = color;
        }
    }
    
    public static Strength check(String password) {
        int score = 0;
        
        // é•¿åº¦æ£€æµ‹
        if (password.length() >= 8) score += 1;
        if (password.length() >= 12) score += 1;
        
        // å¤æ‚åº¦æ£€æµ‹
        if (password.matches(".*[A-Z].*")) score += 1;  // å¤§å†™å­—æ¯
        if (password.matches(".*[a-z].*")) score += 1;  // å°å†™å­—æ¯
        if (password.matches(".*\\d.*")) score += 1;    // æ•°å­—
        if (password.matches(".*[!@#$%^&*(),.?\":{}|<>].*")) score += 1;  // ç‰¹æ®Šå­—ç¬¦
        
        // ç­‰çº§åˆ’åˆ†
        if (score <= 2) return Strength.WEAK;
        if (score <= 4) return Strength.MEDIUM;
        if (score <= 5) return Strength.STRONG;
        return Strength.VERY_STRONG;
    }
    
    public static String getRequirements() {
        return "å¯†ç è¦æ±‚ï¼š\n" +
                "â€¢ é•¿åº¦è‡³å°‘8ä½\n" +
                "â€¢ åŒ…å«å¤§å†™å­—æ¯ï¼ˆA-Zï¼‰\n" +
                "â€¢ åŒ…å«å°å†™å­—æ¯ï¼ˆa-zï¼‰\n" +
                "â€¢ åŒ…å«æ•°å­—ï¼ˆ0-9ï¼‰\n" +
                "â€¢ åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆ!@#$%^&*ç­‰ï¼‰";
    }
}
```

### 6.2 ç”¨æˆ·ç™»å½•å®ç°

#### 6.2.1 ç™»å½•é€»è¾‘
```java
public class LoginViewModel extends ViewModel {
    private MutableLiveData<LoginState> state = new MutableLiveData<>();
    private MutableLiveData<User> user = new MutableLiveData<>();
    private MutableLiveData<String> errorMessage = new MutableLiveData<>();
    
    // ç™»å½•
    public void login(String account, String password, String deviceType, String deviceToken) {
        if (!validateInput(account, password)) {
            return;
        }
        
        state.setValue(LoginState.LOADING);
        
        authRepository.login(account, password, deviceType, deviceToken)
                .subscribe(new BaseObserver<AuthData>() {
                    @Override
                    public void onSuccess(AuthData data) {
                        // ä¿å­˜Token
                        tokenManager.saveToken(data.getToken());
                        tokenManager.saveRefreshToken(data.getRefreshToken());
                        tokenManager.saveTokenExpiresAt(data.getExpiresIn());
                        
                        // ä¿å­˜ç”¨æˆ·ä¿¡æ¯
                        user.setValue(data.getUser());
                        
                        // è®°ä½å¯†ç 
                        if (rememberPassword.getValue()) {
                            preferencesManager.saveAccount(account, password);
                        } else {
                            preferencesManager.clearPassword();
                        }
                        
                        // è‡ªåŠ¨ç™»å½•
                        preferencesManager.setAutoLogin(autoLogin.getValue());
                        
                        state.setValue(LoginState.SUCCESS);
                    }
                    
                    @Override
                    public void onError(String message) {
                        errorMessage.setValue(message);
                        state.setValue(LoginState.IDLE);
                        
                        // å¤„ç†ç™»å½•å¤±è´¥æ¬¡æ•°
                        handleLoginFailure(account);
                    }
                });
    }
    
    // è¾“å…¥éªŒè¯
    private boolean validateInput(String account, String password) {
        if (TextUtils.isEmpty(account)) {
            errorMessage.setValue("è¯·è¾“å…¥è´¦å·");
            return false;
        }
        if (TextUtils.isEmpty(password)) {
            errorMessage.setValue("è¯·è¾“å…¥å¯†ç ");
            return false;
        }
        if (password.length() < 6) {
            errorMessage.setValue("å¯†ç é•¿åº¦è‡³å°‘6ä½");
            return false;
        }
        return true;
    }
    
    // å¤„ç†ç™»å½•å¤±è´¥
    private void handleLoginFailure(String account) {
        int failCount = loginFailCountMap.getOrDefault(account, 0) + 1;
        loginFailCountMap.put(account, failCount);
        
        // è¿ç»­å¤±è´¥5æ¬¡ï¼Œæ˜¾ç¤ºéªŒè¯ç 
        if (failCount >= 5) {
            state.setValue(LoginState.NEED_CAPTCHA);
        }
        
        // è¿ç»­å¤±è´¥10æ¬¡ï¼Œé”å®šè´¦å·
        if (failCount >= 10) {
            state.setValue(LoginState.ACCOUNT_LOCKED);
        }
    }
}
```

#### 6.2.2 è‡ªåŠ¨ç™»å½•
```java
public class AutoLoginManager {
    
    private static final String KEY_TOKEN = "key_token";
    private static final String KEY_REFRESH_TOKEN = "key_refresh_token";
    private static final String KEY_TOKEN_EXPIRES = "key_token_expires";
    private static final String KEY_USER_ID = "key_user_id";
    
    private final Context context;
    private final TokenManager tokenManager;
    private final AuthRepository authRepository;
    
    public AutoLoginManager(Context context, TokenManager tokenManager, AuthRepository authRepository) {
        this.context = context.getApplicationContext();
        this.tokenManager = tokenManager;
        this.authRepository = authRepository;
    }
    
    // æ£€æŸ¥æ˜¯å¦éœ€è¦è‡ªåŠ¨ç™»å½•
    public boolean shouldAutoLogin() {
        return preferencesManager.getAutoLogin() && tokenManager.hasValidToken();
    }
    
    // è‡ªåŠ¨ç™»å½•
    public void autoLogin(Callback<User> callback) {
        if (!tokenManager.hasValidToken()) {
            callback.onFailure(new Exception("æ— æœ‰æ•ˆToken"));
            return;
        }
        
        // Tokenå³å°†è¿‡æœŸï¼Œåˆ·æ–°Token
        if (tokenManager.isTokenExpiringSoon()) {
            refreshTokenAndLogin(callback);
            return;
        }
        
        // Tokenæœ‰æ•ˆï¼Œè·å–ç”¨æˆ·ä¿¡æ¯
        authRepository.getUserProfile()
                .subscribe(new BaseObserver<User>() {
                    @Override
                    public void onSuccess(User user) {
                        callback.onSuccess(user);
                    }
                    
                    @Override
                    public void onError(String message) {
                        // Tokenå¯èƒ½è¿‡æœŸï¼Œå°è¯•åˆ·æ–°
                        refreshTokenAndLogin(callback);
                    }
                });
    }
    
    // åˆ·æ–°Tokenå¹¶ç™»å½•
    private void refreshTokenAndLogin(Callback<User> callback) {
        String refreshToken = tokenManager.getRefreshToken();
        if (TextUtils.isEmpty(refreshToken)) {
            callback.onFailure(new Exception("æ— Refresh Token"));
            return;
        }
        
        authRepository.refreshToken(refreshToken)
                .subscribe(new BaseObserver<TokenResponse>() {
                    @Override
                    public void onSuccess(TokenResponse data) {
                        tokenManager.saveToken(data.getToken());
                        tokenManager.saveRefreshToken(data.getRefreshToken());
                        tokenManager.saveTokenExpiresAt(data.getExpiresIn());
                        
                        // é‡æ–°è·å–ç”¨æˆ·ä¿¡æ¯
                        autoLogin(callback);
                    }
                    
                    @Override
                    public void onError(String message) {
                        // åˆ·æ–°å¤±è´¥ï¼Œéœ€è¦é‡æ–°ç™»å½•
                        callback.onFailure(new Exception(message));
                    }
                });
    }
    
    // é€€å‡ºç™»å½•
    public void logout() {
        authRepository.logout()
                .subscribe(new BaseObserver<Void>() {
                    @Override
                    public void onSuccess(Void data) {
                        clearLoginState();
                    }
                    
                    @Override
                    public void onError(String message) {
                        // å³ä½¿å¤±è´¥ä¹Ÿæ¸…é™¤æœ¬åœ°çŠ¶æ€
                        clearLoginState();
                    }
                });
    }
    
    // æ¸…é™¤ç™»å½•çŠ¶æ€
    private void clearLoginState() {
        tokenManager.clearTokens();
        preferencesManager.clearLoginState();
    }
}
```

### 6.3 Tokenç®¡ç†å®ç°

#### 6.3.1 TokenManager
```java
public class TokenManager {
    
    private static final String KEY_ACCESS_TOKEN = "key_access_token";
    private static final String KEY_REFRESH_TOKEN = "key_refresh_token";
    private static final String KEY_TOKEN_EXPIRES = "key_token_expires";
    
    private final SharedPreferences securePrefs;
    private final Gson gson;
    
    public TokenManager(Context context) {
        this.securePrefs = EncryptedSharedPreferences.create(
                context,
                "token_prefs",
                MasterKey.DEFAULT_MASTER_KEY,
                EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
                EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
        );
        this.gson = new Gson();
    }
    
    // ä¿å­˜Access Token
    public void saveToken(String token) {
        securePrefs.edit().putString(KEY_ACCESS_TOKEN, token).apply();
    }
    
    // è·å–Access Token
    public String getToken() {
        return securePrefs.getString(KEY_ACCESS_TOKEN, null);
    }
    
    // ä¿å­˜Refresh Token
    public void saveRefreshToken(String refreshToken) {
        securePrefs.edit().putString(KEY_REFRESH_TOKEN, refreshToken).apply();
    }
    
    // è·å–Refresh Token
    public String getRefreshToken() {
        return securePrefs.getString(KEY_REFRESH_TOKEN, null);
    }
    
    // ä¿å­˜Tokenè¿‡æœŸæ—¶é—´
    public void saveTokenExpiresAt(long expiresIn) {
        long expiresAt = System.currentTimeMillis() + expiresIn * 1000;
        securePrefs.edit().putLong(KEY_TOKEN_EXPIRES, expiresAt).apply();
    }
    
    // è·å–Tokenè¿‡æœŸæ—¶é—´
    public long getTokenExpiresAt() {
        return securePrefs.getLong(KEY_TOKEN_EXPIRES, 0);
    }
    
    // æ£€æŸ¥Tokenæ˜¯å¦æœ‰æ•ˆ
    public boolean hasValidToken() {
        String token = getToken();
        long expiresAt = getTokenExpiresAt();
        return !TextUtils.isEmpty(token) && expiresAt > System.currentTimeMillis();
    }
    
    // æ£€æŸ¥Tokenæ˜¯å¦å³å°†è¿‡æœŸï¼ˆ5åˆ†é’Ÿå†…ï¼‰
    public boolean isTokenExpiringSoon() {
        long expiresAt = getTokenExpiresAt();
        long fiveMinutesLater = System.currentTimeMillis() + 5 * 60 * 1000;
        return expiresAt > 0 && expiresAt < fiveMinutesLater;
    }
    
    // æ¸…é™¤æ‰€æœ‰Token
    public void clearTokens() {
        securePrefs.edit()
                .remove(KEY_ACCESS_TOKEN)
                .remove(KEY_REFRESH_TOKEN)
                .remove(KEY_TOKEN_EXPIRES)
                .apply();
    }
}
```

#### 6.3.2 è®¤è¯æ‹¦æˆªå™¨
```java
public class AuthInterceptor implements Interceptor {
    
    private final TokenManager tokenManager;
    
    public AuthInterceptor(TokenManager tokenManager) {
        this.tokenManager = tokenManager;
    }
    
    @Override
    public Response intercept(Chain chain) throws IOException {
        Request originalRequest = chain.request();
        
        // ä¸éœ€è¦è®¤è¯çš„æ¥å£
        if (isPublicApi(originalRequest)) {
            return chain.proceed(originalRequest);
        }
        
        // è·å–å½“å‰Token
        String token = tokenManager.getToken();
        if (TextUtils.isEmpty(token)) {
            // æ— Tokenï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢
            return handleNoToken(chain);
        }
        
        // æ£€æŸ¥Tokenæ˜¯å¦å³å°†è¿‡æœŸ
        if (tokenManager.isTokenExpiringSoon()) {
            // å¼‚æ­¥åˆ·æ–°Token
            refreshTokenSync();
        }
        
        // æ·»åŠ è®¤è¯å¤´
        Request authenticatedRequest = originalRequest.newBuilder()
                .header("Authorization", "Bearer " + token)
                .build();
        
        Response response = chain.proceed(authenticatedRequest);
        
        // å¤„ç†401é”™è¯¯ï¼ˆTokenè¿‡æœŸï¼‰
        if (response.code() == 401) {
            return handleUnauthorized(chain, originalRequest);
        }
        
        return response;
    }
    
    private boolean isPublicApi(Request request) {
        String path = request.url().encodedPath();
        return path.contains("/auth/login") ||
               path.contains("/auth/register") ||
               path.contains("/auth/send-code") ||
               path.contains("/auth/refresh-token");
    }
    
    private Response handleNoToken(Chain chain) {
        // å‘é€å¹¿æ’­ï¼Œè§¦å‘è·³è½¬ç™»å½•é¡µé¢
        Intent intent = new Intent("ACTION_NEED_LOGIN");
        intent.setPackage(App.getContext().getPackageName());
        App.getContext().sendBroadcast(intent);
        
        // è¿”å›é”™è¯¯
        return new Response.Builder()
                .code(401)
                .message("éœ€è¦ç™»å½•")
                .request(chain.request())
                .protocol(Protocol.HTTP_1_1)
                .build();
    }
    
    private Response handleUnauthorized(Chain chain, Request originalRequest) {
        // å°è¯•åˆ·æ–°Token
        String refreshToken = tokenManager.getRefreshToken();
        if (!TextUtils.isEmpty(refreshToken)) {
            boolean refreshed = refreshTokenSync();
            if (refreshed) {
                // é‡è¯•åŸè¯·æ±‚
                Request newRequest = originalRequest.newBuilder()
                        .header("Authorization", "Bearer " + tokenManager.getToken())
                        .build();
                return chain.proceed(newRequest);
            }
        }
        
        // åˆ·æ–°å¤±è´¥ï¼Œæ¸…é™¤ç™»å½•çŠ¶æ€
        tokenManager.clearTokens();
        
        // å‘é€å¹¿æ’­
        Intent intent = new Intent("ACTION_TOKEN_EXPIRED");
        intent.setPackage(App.getContext().getPackageName());
        App.getContext().sendBroadcast(intent);
        
        return new Response.Builder()
                .code(401)
                .message("ç™»å½•å·²è¿‡æœŸ")
                .request(chain.request())
                .protocol(Protocol.HTTP_1_1)
                .build();
    }
    
    private boolean refreshTokenSync() {
        // åŒæ­¥åˆ·æ–°Tokenï¼ˆå®é™…é¡¹ç›®ä¸­å»ºè®®å¼‚æ­¥å¤„ç†ï¼‰
        CountDownLatch latch = new CountDownLatch(1);
        final boolean[] result = {false};
        
        AuthApi api = RetrofitManager.getInstance().create(AuthApi.class);
        api.refreshToken(new RefreshTokenRequest(tokenManager.getRefreshToken()))
                .enqueue(new Callback<BaseResponse<TokenResponse>>() {
                    @Override
                    public void onResponse(Call<BaseResponse<TokenResponse>> call,
                                         Response<BaseResponse<TokenResponse>> response) {
                        if (response.isSuccessful() && response.body() != null) {
                            TokenResponse data = response.body().getData();
                            tokenManager.saveToken(data.getToken());
                            tokenManager.saveRefreshToken(data.getRefreshToken());
                            tokenManager.saveTokenExpiresAt(data.getExpiresIn());
                            result[0] = true;
                        }
                        latch.countDown();
                    }
                    
                    @Override
                    public void onFailure(Call<BaseResponse<TokenResponse>> call, Throwable t) {
                        latch.countDown();
                    }
                });
        
        try {
            latch.await(10, TimeUnit.SECONDS);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        
        return result[0];
    }
}
```

### 6.4 å¯†ç åŠ å¯†å®ç°

#### 6.4.1 å¯†ç åŠ å¯†å·¥å…·
```java
public class PasswordUtils {
    
    private static final int SALT_LENGTH = 16;
    private static final int HASH_ITERATIONS = 10000;
    private static final int HASH_KEY_LENGTH = 256;
    
    /**
     * ç”Ÿæˆéšæœºç›
     */
    public static String generateSalt() {
        SecureRandom random = new SecureRandom();
        byte[] salt = new byte[SALT_LENGTH];
        random.nextBytes(salt);
        return Base64.encodeToString(salt, Base64.NO_WRAP);
    }
    
    /**
     * åŠ å¯†å¯†ç 
     * ä½¿ç”¨BCryptæˆ–PBKDF2WithHmacSHA256
     */
    public static String encryptPassword(String password, String salt) {
        try {
            // ä½¿ç”¨PBKDF2WithHmacSHA256
            KeySpec spec = new PBEKeySpec(password.toCharArray(), 
                                          Base64.decode(salt, Base64.NO_WRAP), 
                                          HASH_ITERATIONS, 
                                          HASH_KEY_LENGTH);
            SecretKeyFactory factory = SecretKeyFactory.getInstance("PBKDF2WithHmacSHA256");
            byte[] hash = factory.generateSecret(spec).getEncoded();
            
            // æ ¼å¼ï¼šsalt:hash
            return salt + ":" + Base64.encodeToString(hash, Base64.NO_WRAP);
        } catch (Exception e) {
            throw new RuntimeException("å¯†ç åŠ å¯†å¤±è´¥", e);
        }
    }
    
    /**
     * éªŒè¯å¯†ç 
     */
    public static boolean verifyPassword(String password, String storedPassword) {
        try {
            String[] parts = storedPassword.split(":");
            if (parts.length != 2) {
                return false;
            }
            
            String salt = parts[0];
            String storedHash = parts[1];
            
            String computedHash = encryptPassword(password, salt);
            return computedHash.equals(storedPassword);
        } catch (Exception e) {
            return false;
        }
    }
    
    /**
     * æ£€æŸ¥å¯†ç å¼ºåº¦
     */
    public static PasswordStrength checkStrength(String password) {
        int score = 0;
        List<String> feedback = new ArrayList<>();
        
        // é•¿åº¦æ£€æµ‹
        if (password.length() < 8) {
            feedback.add("å¯†ç é•¿åº¦è‡³å°‘8ä½");
        } else {
            score += 2;
        }
        
        if (password.length() >= 12) {
            score += 1;
        }
        
        // å¤§å†™å­—æ¯
        if (password.matches(".*[A-Z].*")) {
            score += 1;
        } else {
            feedback.add("åŒ…å«å¤§å†™å­—æ¯");
        }
        
        // å°å†™å­—æ¯
        if (password.matches(".*[a-z].*")) {
            score += 1;
        } else {
            feedback.add("åŒ…å«å°å†™å­—æ¯");
        }
        
        // æ•°å­—
        if (password.matches(".*\\d.*")) {
            score += 1;
        } else {
            feedback.add("åŒ…å«æ•°å­—");
        }
        
        // ç‰¹æ®Šå­—ç¬¦
        if (password.matches(".*[!@#$%^&*(),.?\":{}|<>].*")) {
            score += 1;
        } else {
            feedback.add("åŒ…å«ç‰¹æ®Šå­—ç¬¦");
        }
        
        // å¸¸è§å¯†ç æ£€æµ‹
        if (isCommonPassword(password)) {
            score = Math.max(0, score - 2);
            feedback.add("å¯†ç è¿‡äºå¸¸è§");
        }
        
        // é‡å¤å­—ç¬¦æ£€æµ‹
        if (hasRepeatedChars(password)) {
            score -= 1;
            feedback.add("é¿å…è¿ç»­é‡å¤å­—ç¬¦");
        }
        
        return new PasswordStrength(score, feedback);
    }
    
    private static boolean isCommonPassword(String password) {
        Set<String> commonPasswords = new HashSet<>(Arrays.asList(
                "password", "123456", "12345678", "qwerty", "abc123",
                "password123", "admin123", "letmein", "welcome", "monkey"
        ));
        return commonPasswords.contains(password.toLowerCase());
    }
    
    private static boolean hasRepeatedChars(String password) {
        for (int i = 0; i < password.length() - 2; i++) {
            if (password.charAt(i) == password.charAt(i + 1) && 
                password.charAt(i) == password.charAt(i + 2)) {
                return true;
            }
        }
        return false;
    }
}
```

## 7. å®‰å…¨ç­–ç•¥

### 7.1 æ•°æ®åŠ å¯†

#### 7.1.1 ä¼ è¾“åŠ å¯†
- å…¨ç¨‹ä½¿ç”¨HTTPS
- ä½¿ç”¨TLS 1.2+
- è¯ä¹¦ç»‘å®šï¼ˆCertificate Pinningï¼‰
- æ•æ„Ÿæ•°æ®ä¼ è¾“åŠ å¯†

#### 7.1.2 å­˜å‚¨åŠ å¯†
- Tokenå­˜å‚¨ï¼šä½¿ç”¨EncryptedSharedPreferences
- ç”¨æˆ·æ•°æ®å­˜å‚¨ï¼šRoomæ•°æ®åº“åŠ å¯†ï¼ˆSQLCipherï¼‰
- æœ¬åœ°ç¼“å­˜åŠ å¯†ï¼šAES-256åŠ å¯†

### 7.2 é˜²æŠ¤æªæ–½

#### 7.2.1 é˜²æš´åŠ›ç ´è§£
- ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶ï¼š5æ¬¡
- éªŒè¯ç å‘é€é¢‘ç‡é™åˆ¶ï¼š60ç§’/æ¬¡
- IPé»‘åå•æœºåˆ¶
- å›¾å½¢éªŒè¯ç ï¼ˆè¿ç»­å¤±è´¥ï¼‰

#### 7.2.2 é˜²SQLæ³¨å…¥
- ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
- è¾“å…¥æ ¡éªŒå’Œè¿‡æ»¤
- ORMæ¡†æ¶ï¼ˆRoomï¼‰

#### 7.2.3 é˜²XSSæ”»å‡»
- è¾“å‡ºç¼–ç 
- è¾“å…¥æ ¡éªŒ
- Content Security Policy

#### 7.2.4 é˜²é‡æ”¾æ”»å‡»
- è¯·æ±‚ç­¾å
- æ—¶é—´æˆ³éªŒè¯
- Nonceæœºåˆ¶

### 7.3 å®‰å…¨å®¡è®¡

#### 7.3.1 æ—¥å¿—è®°å½•
- ç™»å½•æ—¥å¿—
- æ“ä½œæ—¥å¿—
- é”™è¯¯æ—¥å¿—
- å®‰å…¨äº‹ä»¶æ—¥å¿—

#### 7.3.2 ç›‘æ§å‘Šè­¦
- å¼‚å¸¸ç™»å½•ç›‘æ§
- é¢‘ç¹å¤±è´¥ç›‘æ§
- æ•æ„Ÿæ“ä½œç›‘æ§

## 8. æµ‹è¯•è®¡åˆ’

### 8.1 å•å…ƒæµ‹è¯•

#### 8.1.1 æµ‹è¯•èŒƒå›´
- å¯†ç åŠ å¯†ä¸éªŒè¯
- Tokenç®¡ç†
- è¾“å…¥éªŒè¯
- ä¸šåŠ¡é€»è¾‘

#### 8.1.2 æµ‹è¯•ç”¨ä¾‹
```java
public class PasswordUtilsTest {
    
    @Test
    public void testEncryptPassword() {
        String password = "Test123456!";
        String salt = PasswordUtils.generateSalt();
        String encrypted = PasswordUtils.encryptPassword(password, salt);
        
        assertNotNull(encrypted);
        assertTrue(encrypted.contains(":"));
    }
    
    @Test
    public void testVerifyPassword() {
        String password = "Test123456!";
        String salt = PasswordUtils.generateSalt();
        String encrypted = PasswordUtils.encryptPassword(password, salt);
        
        assertTrue(PasswordUtils.verifyPassword(password, encrypted));
        assertFalse(PasswordUtils.verifyPassword("WrongPassword", encrypted));
    }
    
    @Test
    public void testPasswordStrength() {
        assertEquals(Strength.VERY_STRONG, 
            PasswordUtils.checkStrength("Test123456!@#"));
        
        assertEquals(Strength.WEAK, 
            PasswordUtils.checkStrength("123456"));
        
        assertEquals(Strength.MEDIUM, 
            PasswordUtils.checkStrength("Test123"));
    }
}
```

### 8.2 é›†æˆæµ‹è¯•

#### 8.2.1 APIæµ‹è¯•
- æ­£å¸¸æµç¨‹æµ‹è¯•
- å¼‚å¸¸æµç¨‹æµ‹è¯•
- å¹¶å‘æµ‹è¯•
- å‹åŠ›æµ‹è¯•

#### 8.2.2 åœºæ™¯æµ‹è¯•
- æ³¨å†Œæµç¨‹æµ‹è¯•
- ç™»å½•æµç¨‹æµ‹è¯•
- æ‰¾å›å¯†ç æµç¨‹æµ‹è¯•
- Tokenåˆ·æ–°æµ‹è¯•

### 8.3 UIæµ‹è¯•

#### 8.3.1 Espressoæµ‹è¯•
```java
@RunWith(AndroidJUnit4.class)
public class LoginActivityTest {
    
    @Rule
    public ActivityTestRule<LoginActivity> activityRule = 
            new ActivityTestRule<>(LoginActivity.class);
    
    @Test
    public void testLoginWithEmptyAccount() {
        onView(withId(R.id.btn_login)).perform(click());
        onView(withText("è¯·è¾“å…¥è´¦å·")).check(matches(isDisplayed()));
    }
    
    @Test
    public void testLoginWithEmptyPassword() {
        onView(withId(R.id.et_account)).perform(typeText("13800138000"));
        onView(withId(R.id.btn_login)).perform(click());
        onView(withText("è¯·è¾“å…¥å¯†ç ")).check(matches(isDisplayed()));
    }
    
    @Test
    public void testLoginSuccess() {
        onView(withId(R.id.et_account)).perform(typeText("13800138000"));
        onView(withId(R.id.et_password)).perform(typeText("Test123456!"));
        onView(withId(R.id.btn_login)).perform(click());
        
        // éªŒè¯è·³è½¬åˆ°é¦–é¡µ
        intended(hasComponent(HomeActivity.class));
    }
}
```

### 8.4 å®‰å…¨æµ‹è¯•

#### 8.4.1 æµ‹è¯•å†…å®¹
- æ¸—é€æµ‹è¯•
- æ¼æ´æ‰«æ
- ä»£ç å®¡è®¡
- å®‰å…¨é…ç½®æ£€æŸ¥

## 9. éƒ¨ç½²ä¸å‘å¸ƒ

### 9.1 åç«¯éƒ¨ç½²

#### 9.1.1 æœåŠ¡å™¨è¦æ±‚
- CPUï¼š4æ ¸+
- å†…å­˜ï¼š8GB+
- ç¡¬ç›˜ï¼š100GB+ SSD
- å¸¦å®½ï¼š10Mbps+

#### 9.1.2 éƒ¨ç½²æ­¥éª¤
1. å®‰è£…è¿è¡Œç¯å¢ƒï¼ˆJavaã€MySQLã€Redisç­‰ï¼‰
2. éƒ¨ç½²åç«¯æœåŠ¡
3. é…ç½®HTTPSè¯ä¹¦
4. é…ç½®ç›‘æ§å‘Šè­¦
5. æ€§èƒ½è°ƒä¼˜

### 9.2 Androidå‘å¸ƒ

#### 9.2.1 å‘å¸ƒæµç¨‹
1. ä»£ç å®¡æŸ¥
2. æµ‹è¯•éªŒè¯
3. æ„å»ºAPK/AAB
4. æ··æ·†ç­¾å
5. åº”ç”¨å•†åº—æäº¤

#### 9.2.2 ç‰ˆæœ¬è§„åˆ’
- v1.0ï¼šåŸºç¡€ç™»å½•æ³¨å†ŒåŠŸèƒ½
- v1.1ï¼šç¬¬ä¸‰æ–¹ç™»å½•ã€å®‰å…¨å¢å¼º
- v1.2ï¼šåŠŸèƒ½ä¼˜åŒ–ã€æ€§èƒ½æå‡

## 10. é¡¹ç›®é‡Œç¨‹ç¢‘ä¸æ—¶é—´è§„åˆ’

### 10.1 é˜¶æ®µè§„åˆ’

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|------|----------|--------|
| ç¬¬ä¸€é˜¶æ®µ | ç¬¬1-2å‘¨ | æ•°æ®åº“è®¾è®¡ã€APIæ¥å£è®¾è®¡ | æ•°æ®åº“è®¾è®¡æ–‡æ¡£ã€APIæ–‡æ¡£ |
| ç¬¬äºŒé˜¶æ®µ | ç¬¬3-4å‘¨ | åç«¯å¼€å‘ã€APIå®ç° | åç«¯æœåŠ¡ã€APIæµ‹è¯• |
| ç¬¬ä¸‰é˜¶æ®µ | ç¬¬5-6å‘¨ | Androidç«¯å¼€å‘ã€UIå®ç° | ç™»å½•æ³¨å†ŒåŠŸèƒ½ |
| ç¬¬å››é˜¶æ®µ | ç¬¬7å‘¨ | æµ‹è¯•ä¿®å¤ã€Bugä¿®å¤ | ç¨³å®šç‰ˆæœ¬ |
| ç¬¬äº”é˜¶æ®µ | ç¬¬8å‘¨ | éƒ¨ç½²ä¸Šçº¿ã€åº”ç”¨å•†åº—å‘å¸ƒ | æ­£å¼ç‰ˆæœ¬ |

### 10.2 è¯¦ç»†è®¡åˆ’

#### 10.2.1 ç¬¬ä¸€å‘¨ï¼šè®¾è®¡é˜¶æ®µ
- **å‘¨ä¸€-å‘¨äºŒ**ï¼šéœ€æ±‚åˆ†æã€æ•°æ®åº“è®¾è®¡
- **å‘¨ä¸‰-å‘¨å››**ï¼šAPIæ¥å£è®¾è®¡ã€æ–‡æ¡£ç¼–å†™
- **å‘¨äº”**ï¼šè®¾è®¡è¯„å®¡ã€æŠ€æœ¯é€‰å‹ç¡®è®¤

#### 10.2.2 ç¬¬äºŒå‘¨ï¼šåç«¯å¼€å‘ï¼ˆ1ï¼‰
- **å‘¨ä¸€-å‘¨äºŒ**ï¼šæ­å»ºåç«¯æ¡†æ¶ã€æ•°æ®åº“å®ç°
- **å‘¨ä¸‰-å‘¨å››**ï¼šæ³¨å†Œã€ç™»å½•æ¥å£å¼€å‘
- **å‘¨äº”**ï¼šéªŒè¯ç ã€Tokenæ¥å£å¼€å‘

#### 10.2.3 ç¬¬ä¸‰å‘¨ï¼šåç«¯å¼€å‘ï¼ˆ2ï¼‰
- **å‘¨ä¸€-å‘¨äºŒ**ï¼šæ‰¾å›å¯†ç ã€ä¿®æ”¹å¯†ç æ¥å£
- **å‘¨ä¸‰-å‘¨å››**ï¼šç”¨æˆ·ä¿¡æ¯æ¥å£ã€å®‰å…¨åŠ å›º
- **å‘¨äº”**ï¼šåç«¯æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–

#### 10.2.4 ç¬¬å››å‘¨ï¼šAndroidç«¯å¼€å‘ï¼ˆ1ï¼‰
- **å‘¨ä¸€-å‘¨äºŒ**ï¼šé¡¹ç›®æ¶æ„æ­å»ºã€åŸºç¡€ç»„ä»¶å¼€å‘
- **å‘¨ä¸‰-å‘¨å››**ï¼šç™»å½•é¡µé¢UIå®ç°ã€ViewModelå¼€å‘
- **å‘¨äº”**ï¼šæ³¨å†Œé¡µé¢UIå®ç°

#### 10.2.5 ç¬¬äº”å‘¨ï¼šAndroidç«¯å¼€å‘ï¼ˆ2ï¼‰
- **å‘¨ä¸€-å‘¨äºŒ**ï¼šæ‰¾å›å¯†ç é¡µé¢ã€ç¬¬ä¸‰æ–¹ç™»å½•
- **å‘¨ä¸‰-å‘¨å››**ï¼šTokenç®¡ç†ã€å®‰å…¨æ¨¡å—
- **å‘¨äº”**ï¼šé›†æˆæµ‹è¯•ã€Bugä¿®å¤

#### 10.2.6 ç¬¬å…­å‘¨ï¼šå®Œå–„ä¸ä¼˜åŒ–
- **å‘¨ä¸€-å‘¨ä¸‰**ï¼šUIä¼˜åŒ–ã€æ€§èƒ½ä¼˜åŒ–
- **å‘¨å››-å‘¨äº”**ï¼šå…¨é¢æµ‹è¯•ã€Bugä¿®å¤

#### 10.2.3 ç¬¬ä¸ƒå‘¨ï¼šæµ‹è¯•ä¸ä¿®å¤
- **å‘¨ä¸€-å‘¨ä¸‰**ï¼šå…¨é¢æµ‹è¯•
- **å‘¨å››-å‘¨äº”**ï¼šBugä¿®å¤ã€æ€§èƒ½è°ƒä¼˜

#### 10.2.4 ç¬¬å…«å‘¨ï¼šéƒ¨ç½²ä¸å‘å¸ƒ
- **å‘¨ä¸€-å‘¨ä¸‰**ï¼šåç«¯éƒ¨ç½²ã€é…ç½®
- **å‘¨å››**ï¼šAndroidåº”ç”¨æ‰“åŒ…ã€ç­¾å
- **å‘¨äº”**ï¼šåº”ç”¨å•†åº—æäº¤ã€å‘å¸ƒ

## 11. é£é™©è¯„ä¼°ä¸åº”å¯¹ç­–ç•¥

### 11.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | å¯èƒ½æ€§ | åº”å¯¹ç­–ç•¥ |
|------|------|--------|----------|
| åç«¯æœåŠ¡ä¸ç¨³å®š | ç”¨æˆ·æ— æ³•ç™»å½• | ä¸­ | å¢åŠ å®¹é”™æœºåˆ¶ã€æœ¬åœ°ç¼“å­˜ |
| ç½‘ç»œè¯·æ±‚å¤±è´¥ | ç™»å½•å¤±è´¥ | ä¸­ | é‡è¯•æœºåˆ¶ã€ç¦»çº¿æ”¯æŒ |
| å®‰å…¨æ¼æ´ | ç”¨æˆ·æ•°æ®æ³„éœ² | ä½ | å®‰å…¨å®¡è®¡ã€æ¸—é€æµ‹è¯• |
| æ€§èƒ½ç“¶é¢ˆ | å“åº”æ…¢ | ä¸­ | æ€§èƒ½ä¼˜åŒ–ã€è´Ÿè½½å‡è¡¡ |

### 11.2 è¿è¥é£é™©

| é£é™© | å½±å“ | å¯èƒ½æ€§ | åº”å¯¹ç­–ç•¥ |
|------|------|--------|----------|
| ç”¨æˆ·æ¥å—åº¦ä½ | ä½¿ç”¨ç‡ä½ | ä¸­ | ç”¨æˆ·è°ƒç ”ã€ä½“éªŒä¼˜åŒ– |
| ç«äº‰å¯¹æ‰‹ | ç”¨æˆ·æµå¤± | ä¸­ | åŠŸèƒ½åˆ›æ–°ã€ä½“éªŒæå‡ |
| æ”¿ç­–å˜åŒ– | åŠŸèƒ½å—é™ | ä½ | åˆè§„å®¡æŸ¥ã€æ”¿ç­–è·Ÿè¸ª |

### 11.3 é¡¹ç›®é£é™©

| é£é™© | å½±å“ | å¯èƒ½æ€§ | åº”å¯¹ç­–ç•¥ |
|------|------|--------|----------|
| å¼€å‘å»¶æœŸ | ä¸Šçº¿å»¶è¿Ÿ | ä¸­ | è¿›åº¦ç®¡æ§ã€èµ„æºè°ƒé… |
| éœ€æ±‚å˜æ›´ | è¿”å·¥ | ä¸­ | éœ€æ±‚ç®¡ç†ã€çµæ´»æ¶æ„ |
| äººå‘˜å˜åŠ¨ | å¼€å‘å—é˜» | ä½ | çŸ¥è¯†å…±äº«ã€æ–‡æ¡£å®Œå–„ |

## 12. é¢„ç®—ä¸èµ„æºéœ€æ±‚

### 12.1 äººåŠ›èµ„æºéœ€æ±‚

| è§’è‰² | æ•°é‡ | æŠ•å…¥æ—¶é—´ | èŒè´£ |
|------|------|----------|------|
| åç«¯å¼€å‘å·¥ç¨‹å¸ˆ | 1 | 4å‘¨ | åç«¯å¼€å‘ã€APIå®ç° |
| Androidå¼€å‘å·¥ç¨‹å¸ˆ | 1-2 | 4å‘¨ | Androidç«¯å¼€å‘ |
| UIè®¾è®¡å¸ˆ | 1 | 1å‘¨ | UIè®¾è®¡ã€åˆ‡å›¾ |
| æµ‹è¯•å·¥ç¨‹å¸ˆ | 1 | 2å‘¨ | åŠŸèƒ½æµ‹è¯•ã€å®‰å…¨æµ‹è¯• |
| äº§å“ç»ç† | 1 | 1å‘¨ | éœ€æ±‚åˆ†æã€é¡¹ç›®ç®¡ç† |

### 12.2 æŠ€æœ¯èµ„æºéœ€æ±‚

| èµ„æº | æ•°é‡ | ç”¨é€” | é¢„ç®— |
|------|------|------|------|
| æœåŠ¡å™¨ | 1å° | åç«¯æœåŠ¡éƒ¨ç½² | 5,000å…ƒ/å¹´ |
| æ•°æ®åº“ | 1ä¸ª | ç”¨æˆ·æ•°æ®å­˜å‚¨ | 3,000å…ƒ/å¹´ |
| çŸ­ä¿¡æœåŠ¡ | æŒ‰é‡ | éªŒè¯ç å‘é€ | 1,000å…ƒ/å¹´ |
| HTTPSè¯ä¹¦ | 1ä¸ª | å®‰å…¨ä¼ è¾“ | 1,000å…ƒ/å¹´ |
| ç¬¬ä¸‰æ–¹SDK | - | å¾®ä¿¡ç™»å½•ç­‰ | å…è´¹ |

### 12.3 æ€»é¢„ç®—

| é¡¹ç›® | é¢„ç®— |
|------|------|
| äººåŠ›èµ„æº | 80,000-120,000å…ƒ |
| æœåŠ¡å™¨å’Œäº‘æœåŠ¡ | 10,000å…ƒ/å¹´ |
| çŸ­ä¿¡æœåŠ¡ | 5,000å…ƒ/å¹´ |
| å…¶ä»– | 5,000å…ƒ |
| **æ€»è®¡** | **100,000-140,000å…ƒ** |

## ğŸ“ˆ æ€»ç»“

æœ¬è®¡åˆ’è¯¦ç»†é˜è¿°äº†ç¦å¸ˆå¤§æ ¡å›­ç”Ÿæ´»æœåŠ¡APPç™»å½•æ³¨å†ŒåŠŸèƒ½çš„å®ç°æ–¹æ¡ˆï¼Œæ¶µç›–äº†éœ€æ±‚åˆ†æã€æŠ€æœ¯æ¶æ„ã€æ•°æ®åº“è®¾è®¡ã€APIæ¥å£ã€UI/UXè®¾è®¡ã€æ ¸å¿ƒåŠŸèƒ½å®ç°ã€å®‰å…¨ç­–ç•¥ã€æµ‹è¯•è®¡åˆ’ã€éƒ¨ç½²å‘å¸ƒã€é¡¹ç›®é‡Œç¨‹ç¢‘ã€é£é™©è¯„ä¼°å’Œé¢„ç®—éœ€æ±‚ç­‰å„ä¸ªæ–¹é¢ã€‚

é€šè¿‡æœ¬è®¡åˆ’çš„å®æ–½ï¼Œå°†å®ç°ä»¥ä¸‹ç›®æ ‡ï¼š

1. **å®Œå–„çš„ç”¨æˆ·è®¤è¯ä½“ç³»**ï¼šæ”¯æŒæ‰‹æœºå·ã€å­¦å·ã€ç¬¬ä¸‰æ–¹ç­‰å¤šç§ç™»å½•æ–¹å¼
2. **å®‰å…¨çš„ç”¨æˆ·æ•°æ®ä¿æŠ¤**ï¼šé‡‡ç”¨åŠ å¯†å­˜å‚¨ã€ä¼ è¾“åŠ å¯†ã€é˜²æŠ¤æœºåˆ¶ç­‰å¤šé‡å®‰å…¨æªæ–½
3. **è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ**ï¼šæµç•…çš„äº¤äº’è®¾è®¡ã€å‹å¥½çš„é”™è¯¯æç¤ºã€å¿«é€Ÿçš„å“åº”é€Ÿåº¦
4. **å¯æ‰©å±•çš„æ¶æ„è®¾è®¡**ï¼šæ¨¡å—åŒ–è®¾è®¡ã€æ”¯æŒåŠŸèƒ½æ‰©å±•å’ŒæŠ€æœ¯å‡çº§

æœ¬è®¡åˆ’å…·æœ‰å¯æ“ä½œæ€§å’Œçµæ´»æ€§ï¼Œå¯æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ã€‚é€šè¿‡ä¸¥æ ¼çš„è¿›åº¦ç®¡æ§å’Œè´¨é‡ä¿è¯ï¼Œç¡®ä¿é¡¹ç›®æŒ‰æ—¶äº¤ä»˜ï¼Œè¾¾åˆ°é¢„æœŸæ•ˆæœã€‚